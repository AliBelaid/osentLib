// RTL (Right-to-Left) Styles for Arabic Language Support
// Applied automatically when dir="rtl" is set on the HTML element

[dir="rtl"] {
  // Base text alignment
  text-align: right;

  // ─── SIDENAV / DRAWER ───
  // Material MDC sidenav: flip border and fix content margin
  .mat-drawer-container {
    .mat-drawer {
      &.mat-drawer-side {
        border-left: none !important;
        border-right: none !important;
        border-inline-end: 1px solid var(--border-default, rgba(0, 0, 0, 0.12)) !important;
      }
    }
  }

  // Fix sidenav content margin — Material may set margin-left for side drawer
  // before dir="rtl" applies. Swap it: remove margin-left and set margin-right
  // to match the sidenav width (260px as defined in app.component.ts).
  .mat-drawer-content,
  .mat-sidenav-content {
    margin-left: 0 !important;
    margin-right: 260px;
  }

  // Sidenav section labels
  .nav-section-label {
    text-align: right;
  }

  // ─── MATERIAL COMPONENT OVERRIDES ───

  // Icon positioning
  .mat-icon {
    &.mat-icon-rtl-mirror {
      transform: scaleX(-1);
    }
  }

  // Menu items (MDC)
  .mat-mdc-menu-item,
  .mat-menu-item {
    text-align: right;

    .mat-icon {
      margin-left: 16px;
      margin-right: 0;
    }
  }

  // Form fields
  .mat-mdc-form-field,
  .mat-form-field {
    text-align: right;

    .mat-mdc-form-field-icon-prefix,
    .mat-form-field-prefix {
      padding-left: 8px;
      padding-right: 0;
    }

    .mat-mdc-form-field-icon-suffix,
    .mat-form-field-suffix {
      padding-right: 8px;
      padding-left: 0;
    }
  }

  // Lists (MDC)
  .mat-mdc-list-item,
  .mat-list-item,
  .mat-list-option {
    text-align: right;

    .mat-mdc-list-item-icon,
    .mat-list-icon {
      margin-left: 16px;
      margin-right: 0;
    }
  }

  // Buttons with icons
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-flat-button,
  .mat-mdc-outlined-button,
  .mat-button,
  .mat-raised-button,
  .mat-flat-button,
  .mat-stroked-button {
    .mat-icon {
      margin-left: 8px;
      margin-right: -4px;
    }

    &.icon-button-start .mat-icon {
      margin-right: 8px;
      margin-left: -4px;
    }
  }

  // Chips
  .mat-mdc-chip,
  .mat-chip {
    .mat-chip-remove,
    .mat-mdc-chip-remove {
      margin-left: 0;
      margin-right: 4px;
    }
  }

  // Expansion panels
  .mat-expansion-panel-header {
    .mat-expansion-indicator {
      margin-right: auto;
      margin-left: 0;
    }
  }

  // Cards
  .mat-mdc-card-actions,
  .mat-card-actions {
    margin-left: auto;
    margin-right: 0;
    padding: 8px 4px !important;
  }

  // Tabs
  .mat-mdc-tab,
  .mat-tab-label {
    padding: 0 12px;
  }

  // Stepper
  .mat-stepper-horizontal {
    .mat-step-icon {
      margin-left: 8px;
      margin-right: 0;
    }
  }

  // Paginator
  .mat-mdc-paginator,
  .mat-paginator {
    .mat-mdc-paginator-page-size-label,
    .mat-paginator-page-size-label {
      margin-right: auto;
      margin-left: 0;
    }

    .mat-mdc-paginator-range-label,
    .mat-paginator-range-label {
      margin: 0 16px 0 0;
    }
  }

  // Table
  .mat-mdc-table,
  .mat-table {
    .mat-mdc-header-cell,
    .mat-mdc-cell,
    .mat-header-cell,
    .mat-cell {
      text-align: right;

      &:first-child {
        padding-right: 24px;
        padding-left: 0;
      }

      &:last-child {
        padding-left: 24px;
        padding-right: 0;
      }
    }
  }

  // Snackbar
  .mat-mdc-snack-bar-container,
  .mat-snack-bar-container {
    .mat-mdc-simple-snackbar,
    .mat-simple-snackbar {
      justify-content: flex-start;
    }

    .mat-mdc-snack-bar-action,
    .mat-simple-snackbar-action {
      margin-right: auto;
      margin-left: 0;
    }
  }

  // Dialog
  .mat-mdc-dialog-actions,
  .mat-dialog-actions {
    flex-direction: row-reverse;

    .mat-mdc-button,
    .mat-button,
    .mat-raised-button {
      margin-right: 0;
      margin-left: 8px;

      &:first-child {
        margin-left: 0;
      }
    }
  }

  // ─── CUSTOM APPLICATION STYLES ───
  .news-card {
    .card-actions {
      flex-direction: row-reverse;
    }
  }

  .threat-badge {
    margin-right: 8px;
    margin-left: 0;
  }

  .filters-panel {
    border-right: none;
    border-left: 1px solid rgba(0, 0, 0, 0.12);
  }

  .page-header {
    .actions {
      margin-right: auto;
      margin-left: 0;
    }
  }

  // Navigation chevrons - flip for RTL
  .mat-icon {
    &.chevron-right,
    &.arrow-right,
    &.navigate-next {
      transform: scaleX(-1);
    }

    &.chevron-left,
    &.arrow-left,
    &.navigate-before {
      transform: scaleX(-1);
    }
  }

  // ─── UTILITY CLASSES ───
  .ml-1 { margin-right: 0.25rem !important; margin-left: 0 !important; }
  .ml-2 { margin-right: 0.5rem !important; margin-left: 0 !important; }
  .ml-3 { margin-right: 1rem !important; margin-left: 0 !important; }
  .ml-4 { margin-right: 1.5rem !important; margin-left: 0 !important; }
  .ml-5 { margin-right: 3rem !important; margin-left: 0 !important; }

  .mr-1 { margin-left: 0.25rem !important; margin-right: 0 !important; }
  .mr-2 { margin-left: 0.5rem !important; margin-right: 0 !important; }
  .mr-3 { margin-left: 1rem !important; margin-right: 0 !important; }
  .mr-4 { margin-left: 1.5rem !important; margin-right: 0 !important; }
  .mr-5 { margin-left: 3rem !important; margin-right: 0 !important; }

  .pl-1 { padding-right: 0.25rem !important; padding-left: 0 !important; }
  .pl-2 { padding-right: 0.5rem !important; padding-left: 0 !important; }
  .pl-3 { padding-right: 1rem !important; padding-left: 0 !important; }
  .pl-4 { padding-right: 1.5rem !important; padding-left: 0 !important; }
  .pl-5 { padding-right: 3rem !important; padding-left: 0 !important; }

  .pr-1 { padding-left: 0.25rem !important; padding-right: 0 !important; }
  .pr-2 { padding-left: 0.5rem !important; padding-right: 0 !important; }
  .pr-3 { padding-left: 1rem !important; padding-right: 0 !important; }
  .pr-4 { padding-left: 1.5rem !important; padding-right: 0 !important; }
  .pr-5 { padding-left: 3rem !important; padding-right: 0 !important; }

  .text-left { text-align: right !important; }
  .text-right { text-align: left !important; }

  .float-left { float: right !important; }
  .float-right { float: left !important; }
}

// Body class for RTL
body.rtl {
  direction: rtl;
}
